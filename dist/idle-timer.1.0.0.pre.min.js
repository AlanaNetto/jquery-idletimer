/*! Idle Timer - v1.0.0.pre - 2014-03-10
* https://github.com/thorst/jquery-idletimer
* Copyright (c) 2014 Paul Irish; Licensed MIT */
!function(a){a.idleTimer=function(b,c,d){d=a.extend({startImmediately:!0,idle:!1,enabled:!0,timeout:3e4,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},d),c=c||document;var e=a(c),f=e.data("idleTimerObj")||{},g=function(b){"number"==typeof b&&(b=void 0);var e=a.data(b||c,"idleTimerObj");e.idle=!e.idle;var f=+new Date-e.olddate;if(e.olddate=+new Date,e.idle&&f<d.timeout)return e.idle=!1,clearTimeout(a.idleTimer.tId),void(d.enabled&&(a.idleTimer.tId=setTimeout(g,d.timeout)));var h=a.Event(a.data(c,"idleTimer",e.idle?"idle":"active")+".idleTimer");a(c).trigger(h)},h=function(a){var b=a.data("idleTimerObj")||{};b.enabled=!1,clearTimeout(b.tId),a.off(".idleTimer")};if(f.olddate=f.olddate||+new Date,"number"==typeof b)d.timeout=b;else{if("destroy"===b)return h(e),this;if("getElapsedTime"===b)return+new Date-f.olddate}e.on(a.trim((d.events+" ").split(" ").join(".idleTimer ")),function(){var b=a.data(this,"idleTimerObj");clearTimeout(b.tId),b.enabled&&(b.idle&&g(this),b.tId=setTimeout(g,b.timeout))}),f.idle=d.idle,f.enabled=d.enabled,f.timeout=d.timeout,d.startImmediately&&(f.tId=setTimeout(g,f.timeout)),e.data("idleTimer","active"),e.data("idleTimerObj",f)},a.fn.idleTimer=function(b,c){return c||(c={}),this[0]?a.idleTimer(b,this[0],c):this}}(jQuery);