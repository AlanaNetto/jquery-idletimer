/*! Idle Timer - v0.9.2 - 2013-01-06
* https://github.com/mikesherov/jquery-idletimer
* Copyright (c) 2013 Paul Irish; Licensed MIT */
(function(e){e.idleTimer=function(t,i,d){d=e.extend({startImmediately:!0,idle:!1,enabled:!0,timeout:3e4,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},d),i=i||document;var l=function(t){"number"==typeof t&&(t=void 0);var a=e.data(t||i,"idleTimerObj");a.idle=!a.idle;var o=+new Date-a.olddate;if(a.olddate=+new Date,a.idle&&d.timeout>o)return a.idle=!1,clearTimeout(e.idleTimer.tId),d.enabled&&(e.idleTimer.tId=setTimeout(l,d.timeout)),void 0;var r=jQuery.Event(e.data(i,"idleTimer",a.idle?"idle":"active")+".idleTimer");e(i).trigger(r)},a=function(t){var i=e.data(t,"idleTimerObj")||{};i.enabled=!1,clearTimeout(i.tId),e(t).off(".idleTimer")},o=function(){var t=e.data(this,"idleTimerObj");clearTimeout(t.tId),t.enabled&&(t.idle&&l(this),t.tId=setTimeout(l,t.timeout))},r=e.data(i,"idleTimerObj")||{};if(r.olddate=r.olddate||+new Date,"number"==typeof t)d.timeout=t;else{if("destroy"===t)return a(i),this;if("getElapsedTime"===t)return+new Date-r.olddate}e(i).on(e.trim((d.events+" ").split(" ").join(".idleTimer ")),o),r.idle=d.idle,r.enabled=d.enabled,r.timeout=d.timeout,d.startImmediately&&(r.tId=setTimeout(l,r.timeout)),e.data(i,"idleTimer","active"),e.data(i,"idleTimerObj",r)},e.fn.idleTimer=function(t,i){return i||(i={}),this[0]&&e.idleTimer(t,this[0],i),this}})(jQuery);